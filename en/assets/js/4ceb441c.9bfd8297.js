"use strict";(self.webpackChunkdata_docs=self.webpackChunkdata_docs||[]).push([[353],{9719:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var n=s(4848),t=s(8453);const a={sidebar_position:5},i="Spark",l={id:"cluster/spark",title:"Spark",description:"WebUI",source:"@site/docs/cluster/05.spark.md",sourceDirName:"cluster",slug:"/cluster/spark",permalink:"/data-engineering/en/docs/cluster/spark",draft:!1,unlisted:!1,editUrl:"https://github.com/mqjd/data-engineering/tree/main/data-docs/docs/cluster/05.spark.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"clusterSidebar",previous:{title:"Flink",permalink:"/data-engineering/en/docs/cluster/flink"},next:{title:"Kafka",permalink:"/data-engineering/en/docs/cluster/kafka"}},d={},c=[{value:"WebUI",id:"webui",level:2},{value:"\u547d\u4ee4",id:"\u547d\u4ee4",level:2},{value:"Standalone\u96c6\u7fa4\u642d\u5efa",id:"standalone\u96c6\u7fa4\u642d\u5efa",level:3},{value:"\u5ba2\u6237\u7aef\u4f7f\u7528",id:"\u5ba2\u6237\u7aef\u4f7f\u7528",level:3},{value:"Submitting Applications",id:"submitting-applications",level:4}];function o(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.h1,{id:"spark",children:"Spark"}),"\n",(0,n.jsx)(r.h2,{id:"webui",children:"WebUI"}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.a,{href:"http://hd1:8001/",children:"Master"}),"\u7f51\u9875\u9ed8\u8ba4\u7aef\u53e3",(0,n.jsx)(r.strong,{children:"8001"}),"\uff0c\u53c2\u6570\u914d\u7f6e\u5982\u4e0b\uff1a"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-shell",children:"export SPARK_MASTER_WEBUI_PORT=8001\n"})}),"\n",(0,n.jsx)(r.h2,{id:"\u547d\u4ee4",children:"\u547d\u4ee4"}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"https://spark.apache.org/docs/latest/",children:"\u5b98\u65b9\u6587\u6863"})}),"\n",(0,n.jsx)(r.h3,{id:"standalone\u96c6\u7fa4\u642d\u5efa",children:"Standalone\u96c6\u7fa4\u642d\u5efa"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"\u542f\u52a8Master"}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-shell",children:"./sbin/start-master.sh\n"})}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"\u542f\u52a8Worker"}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-shell",children:"./sbin/start-worker.sh <master-spark-URL>\n"})}),"\n",(0,n.jsx)(r.p,{children:"\u53c2\u6570\u8bf4\u660e\uff1a"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"\u53c2\u6570"}),(0,n.jsx)(r.th,{children:"\u8bf4\u660e"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"-h HOST, --host HOST"}),(0,n.jsx)(r.td,{children:"\u8981\u4fa6\u542c\u7684\u4e3b\u673a\u540d"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"-p PORT, --port PORT"}),(0,n.jsx)(r.td,{children:"\u7528\u4e8e\u4fa6\u542c\u7684\u670d\u52a1\u7aef\u53e3\uff08\u9ed8\u8ba4\u503c\uff1aMaster\u4e3a 7077\uff0cWorker\u4e3a random\uff09"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"--webui-port PORT"}),(0,n.jsx)(r.td,{children:"Web UI \u7aef\u53e3\uff08\u9ed8\u8ba4\uff1aMaster\u4e3a8080 \uff0cWorker\u4e3a8081\uff09"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"-c CORES, --cores CORES"}),(0,n.jsx)(r.td,{children:"Worker\u53c2\u6570\uff1a\u53ef\u4f7f\u7528\u7684CPU\u6838\u5fc3\u603b\u6570\uff08\u9ed8\u8ba4\u503c\uff1a\u5168\u90e8\u53ef\u7528\uff09"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"-m MEM, --memory MEM"}),(0,n.jsx)(r.td,{children:"Worker\u53c2\u6570\uff1a\u53ef\u4f7f\u7528\u7684\u5185\u5b58\u603b\u91cf\uff0c\u683c\u5f0f\u4e3a 1000M \u6216 2G\uff08\u9ed8\u8ba4\uff1a\u8ba1\u7b97\u673a\u7684\u603b RAM \u51cf\u53bb 1 GiB\uff09"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"-d DIR, --work-dir DIR"}),(0,n.jsx)(r.td,{children:"Worker\u53c2\u6570\uff1a\u7528\u4e8e\u6587\u4ef6\u6682\u5b58\u548c\u4f5c\u4e1a\u65e5\u5fd7\u8f93\u51fa\u7684\u76ee\u5f55\uff08\u9ed8\u8ba4\u503c\uff1aSPARK_HOME/work\uff09"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"--properties-file FILE"}),(0,n.jsx)(r.td,{children:"\u8981\u52a0\u8f7d\u7684\u81ea\u5b9a\u4e49Spark\u914d\u7f6e\u6587\u4ef6\uff08\u9ed8\u8ba4\u503c\uff1aconf/spark-defaults.conf\uff09"})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"\u5ba2\u6237\u7aef\u4f7f\u7528",children:"\u5ba2\u6237\u7aef\u4f7f\u7528"}),"\n",(0,n.jsx)(r.h4,{id:"submitting-applications",children:"Submitting Applications"}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"https://spark.apache.org/docs/latest/submitting-applications.html",children:"\u5b98\u65b9\u6587\u6863"})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-shell",children:"# \u63d0\u4ea4\u4f5c\u4e1a\u5230\u6307\u5b9aMaster\nspark-submit \\\n  --class org.apache.spark.examples.SparkPi \\\n  --master spark://hd1:7077 \\\n  --executor-memory 2G \\\n  --total-executor-cores 2 \\\n  $SPARK_HOME/examples/jars/spark-examples_2.13-3.5.1.jar\n\n# \u63d0\u4ea4\u4f5c\u4e1a\u5230Yarn\nspark-submit \\\n  --class org.apache.spark.examples.SparkPi \\\n  --master yarn \\\n  --deploy-mode cluster \\\n  --executor-memory 2G \\\n  --num-executors 2 \\\n  $SPARK_HOME/examples/jars/spark-examples_2.13-3.5.1.jar\n\n# \u63d0\u4ea4pyspark\u4f5c\u4e1a\u5230local\nspark-submit \\\n  --master local \\\n  $SPARK_HOME/examples/src/main/python/pi.py \\\n  1000\n\n"})})]})}function h(e={}){const{wrapper:r}={...(0,t.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},8453:(e,r,s)=>{s.d(r,{R:()=>i,x:()=>l});var n=s(6540);const t={},a=n.createContext(t);function i(e){const r=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),n.createElement(a.Provider,{value:r},e.children)}}}]);